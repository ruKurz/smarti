<!--
 ~ Copyright 2017 Redlink GmbH
 ~
 ~ Licensed under the Apache License, Version 2.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~     http://www.apache.org/licenses/LICENSE-2.0
 ~
 ~ Unless required by applicable law or agreed to in writing, software
 ~ distributed under the License is distributed on an "AS IS" BASIS,
 ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ~ See the License for the specific language governing permissions and
 ~ limitations under the License.
 ~
 -->

<form class="form" name="uploadForm" ng-submit="$modal.upload(uploadForm)">
  <div class="modal-header">
    <h3 class="modal-title">Import Conversations</h3>
  </div>
  <div class="modal-body" id="modal-body">
    <div class="form-group">
      <input type="file" name="file"
             ngf-select
             accept="application/json"
             ng-model="$modal.uploadFile" required/>
      <p></p>
    </div>
    <div class="checkbox">
      <label><input type="checkbox" ng-model="$modal.uploadReplace" class="checkbox">Replace</label>
    </div>
  </div>
  <div class="modal-footer">
    <div class="has-error" style="display: inline-block; margin-right: 1em">
      <span class="help-block">
        <span ng-if="uploadForm.file.$invalid">
          Please choose archive to import.
        </span>
        <span ng-if="$modal.serverError && uploadForm.$submitted && uploadForm.$pristine">
          Server-Error: <span ng-bind="$modal.serverError"></span>
        </span>
      </span>
    </div>
    <button class="btn btn-primary" ng-disabled="$modal.inProgress || uploadForm.$invalid">
      <i class="glyphicon glyphicon-upload"></i> Importieren
    </button>
    <button class="btn btn-default" type="reset" ng-click="$modal.cancel()">Cancel</button>
  </div>
</form>
